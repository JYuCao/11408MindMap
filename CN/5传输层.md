# 传输层
## TCP

### TCP的计时器
* 重传计时器（超时计时器）：判断发送的报文是否需要超时重传
* 持续计时器：发送方在收到接收方的零窗口报文时，为了避免死锁等待，启动持续计时器
* 保活计时器：当客户端突然出现故障时，使用保活计时器可以防止服务器一直等待
* 时间等待计时器：在连接释放时使用，初始值设置为最长报文段寿命的两倍

### 拥塞控制
#### 算法
- 慢开始和拥塞避免
    - 慢开始：拥塞窗口cwnd从1开始，指数增加，达到阈值ssthresh后进入拥塞避免阶段
    - 拥塞避免：cwnd以线性方式增加，避免网络拥塞
    - 拥塞发生时（检测到丢包），ssthresh设为最后cwnd的一半，cwnd重置为1
- 快速重传与快速恢复
    - 快速重传：收到3个重复ACK时，将ssthresh设为最后cwnd的一半，重传丢失的数据包
    - 快速恢复：在快速重传后，cwnd设为ssthresh，进入拥塞避免阶段

#### 发送窗口、接收窗口和拥塞窗口
- 发送窗口 = min(rwnd, cwnd)


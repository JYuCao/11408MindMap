# 1 计算机网络体系结构

## 计算机网络概念

- 计算机网络由若干 __节点（Node）__ 和 连接这些节点的 __链路（Link）__ 组成。
- Internet与internet

## 计算机网络的组成

- 从组成部分看，计算机网络主要由 __硬件__、 __软件__ 和 __协议（核心）__ 三大部分组成。
- 从工作方式看，计算机网络可分为 __边缘部分__ 和 __核心部分__ 。
- 从功能组成看，计算机网络主要由 __通信子网__ 和 __资源子网__ 组成。

## 计算机网络的功能

- 数据通信、资源共享、分布式处理、提高可靠性、负载均衡
- 数据通信是最基本和最重要的功能

## 电路交换、报文交换与分组交换

- 交换（Switching）是按照某种方式动态地分配传输线路的资源
- 电路交换
  - 步骤：建立连接-传输数据-释放连接
  - 优点：通信时延小、有序传输、没有冲突、实时性强
  - 缺点：建立连接时间长、线路利用率低、灵活性差、难以实现差错控制
- 报文交换
  - 以报文作为基本单位，采用存储转发技术
  - 优点：无建立连接时延、灵活分配线路、线路利用率高、支持差错控制
  - 缺点：转发时延高、缓存开销大、错误处理低效
- 分组交换
  - 将报文分成若干数据段，添加首部后形成分组；也采用存储转发技术
  - 优点：存储转发开销小、传输效率高、减少了出错概率和重传代价
  - 缺点：存在存储转发时延、需要传输额外的信息量、可能出现失序 丢失 或 分组重复

## 计算机网络分类

- 按分布范围分类：广域网WAN、城域网MAN、局域网LAN、个人局域网PAN
- 按传输技术分类：广播式网络、点对点网络
- 按拓扑结构分类：总线型网络、星型网络、环型网络、网状网络
- 按使用者分类：公用网、专用网
- 按传输介质分类：有线（双绞线、同轴电缆）、无线（蓝牙、微波、无线电）

## 网络的性能指标

- 速率、带宽、吞吐量
- 时延：发送时延、传播时延、处理时延、排队时延
  - 传播时延 = 信道长度 / 电磁波在信道上的传播速率；
    自由空间：约等于光速3×10^8 m/s，铜线：约等于2×10^8 m/s，光纤：约等于2.3×10^8 m/s
  - 发送时延 = 分组长度 / 发送速率（带宽）
- 时延带宽积：传播时延 * 信道带宽
- 往返时延（RTT）
- 信道利用率：有数据通过的时间 / 总时间

## 计算机网络分层结构

- 协议数据单元（PDU）、服务数据单元（SDU）、协议控制信息（PCI）
- 协议（语法、语义、同步）、接口（服务访问点SAP）、服务
- 服务可分为：面向连接与无连接服务、可靠与不可靠服务、有应答与无应答服务
- OSI 七层参考模型：

  1. 物理层：传输 __比特__，规定了机械、电气、功能和规程特性（不包括物理介质）
  2. 数据链路层：传输 __帧__，实现差错控制与流量控制
  3. 网络层：传输 __数据报__，实现流量控制、拥塞控制、差错控制和网际互联等功能
  4. 传输层：负责主机中两个进程之间的通信，提供端到端的流量控制、差错控制、
     连接建立与释放、可靠传输管理等服务，仅提供 __有连接可靠服务__
  5. 会话层：允许不同主机上的各个进程进行会话
  6. 表示层：处理不同主机中交换信息的表示方式
  7. 应用层：用户与网络的接口
- TCP/IP 四层参考模型：

  1. 网络接口层：类似于 OSI 的物理层和数据链路层
  2. 网际层：传输 __IP数据报__，提供无连接不可靠服务
  3. 传输层：主要使用 __TCP__（报文段） 和 __UDP__（用户数据报） 协议
  4. 应用层：包含所有高层协议，如Telnet、FTP、SMTP、DNS等
- OSI 模型与 TCP/IP 模型的比较

  - OSI 模型是理论上的参考模型，TCP/IP 模型是实际使用的协议体系
  - OSI 模型有七层，TCP/IP 模型有四层
  - OSI 模型的网络层提供**无连接和有连接**两种服务，TCP/IP 模型的网际层只提供**无连接服务**
  - OSI 模型的传输层只提供**有连接可靠服务**，TCP/IP 模型的传输层既提供**有连接可靠服务**（TCP），
  也提供**无连接不可靠服务**（UDP）
  - OSI 模型的会话层、表示层和应用层合并为 TCP/IP 模型的应用层

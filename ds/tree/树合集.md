# 树
## 树
### 基本概念
- 祖先、子孙、双亲、孩子、兄弟、堂兄弟
- 层次、深度、高度
- 结点的度、树的度
- 分支结点、叶结点
- 有序树、无序树
- 路径、路径长度
- 森林

### 性质
- 边：$n$个结点的树有$n-1$条边
- 树的节点数：等于所有节点的度数之和加1
- 度为$m$的树中，第$i$层最多有$ m^{i-1} $个结点
- 高度为$h$的$m$叉树最多有$ \frac{m^h-1}{m-1} $ 个结点
- 度为$m$、具有$n$个结点的树的高度至少为$ \lceil log_m(n(m-1)+1) \rceil $
- 度为$m$、具有$n$个结点的树的高度至多为$n-m+1$
- 结点与度数的关系
    - $ n = d + 1 $
    - $ \sum_{i=0}^{h} n_i = n $
    - $ \sum_{i=1}^{h} i \cdot n_i = n - 1 $

## 二叉树
### 基本概念
- 每个结点至多有2个子树（并非树的度为2，度为2的树至少有3个结点）
- 有序树
- 满二叉树、完全二叉树、二叉排序树、平衡二叉树（AVL树）、正则二叉树

### 性质
- 非空二叉树上的叶结点树等于度为2的结点数加1，即 $ n_0 = n_2 + 1 $
- 非空二叉树的第$i$层上至多有$ 2^{i-1} $个结点
- 高度为$h$的二叉树至多有$ 2^h - 1 $个结点
- 对完全二叉树按从上到下、从左到右的顺序编号，设编号为$i$的结点
    - 最后一个分支结点的编号为$ \lfloor n/2 \rfloor $，若$i > \lfloor n/2 \rfloor$，则结点$i$为叶结点
    - 叶结点只可能在最后两层上出现
    - 若有度为1的结点，则最多只能有一个
    - 若$i$节点为叶节点或度为1，编号大于$i$的结点均为叶节点
    - 若$n$为奇数，则度为1的结点编号为$ \lfloor n/2 \rfloor $；若$n$为偶数，则无度为1的结点
    - 当$i$的值在$1 \sim \lfloor n/2 \rfloor$之间时
        - 结点$i$的左子结点编号为$2i$
        - 结点$i$的右子结点编号为$2i + 1$
        - 结点$i$的双亲结点编号为$\lfloor i/2 \rfloor$
    - 结点$i$所在层次（深度）为$ \lfloor log_2 i \rfloor + 1 $
- 具有$n$个结点的二叉树的高度至少为$ \lceil log_2(n+1) \rceil $或$ \lfloor log_2 n \rfloor + 1 $

### 存储结构
- 顺序存储：使用一组连续的存储单元层序存储二叉树
- 链式存储：三叉链表。含有n个结点的二叉链表中，含有n+1个空指针域

## 二叉树遍历
- 前序、中序、后序、层序
- 知道（前序或后序或层序）和中序可以唯一确定一棵二叉树

## 树、森林
### 树的存储结构
- 双亲表示法
- 孩子表示法
- 孩子兄弟表示法（左孩子右兄弟）

### 树、森林、二叉树的转换
- 树转二叉树（得到的二叉树根只有左孩子）：
    - 在兄弟节点之间加一条线
    - 只保留每个节点的第一个孩子
    - 以树根为轴心，顺时针旋转45度
- 森林转二叉树
- 二叉树转森林
- 二叉树中右链域为空的个数等于对应树的分支结点数+1

### 树的遍历
- 先根遍历
- 后根遍历：与相应二叉树的中序遍历相同
- 层次遍历

### 森林的遍历
- 先序遍历、中序遍历

## 树的应用
### 哈夫曼树和哈夫曼编码
- 带权路径长度WPL：
    - 带权路径长度WPL是指从根结点到每个叶结点的路径长度与该叶结点的权值的乘积之和
    - $ WPL = \sum_{i=1}^{n} w_i \cdot l_i $
- 哈夫曼树：带权路径长度最小的二叉树
- 哈夫曼树不唯一，但WPL唯一
- 固定长度编码与可变长度编码、前缀编码
- 哈夫曼编码：权值作为字符出现的频率，频率越高，编码越短；从根到叶节点的路径作为编码


### 并查集


